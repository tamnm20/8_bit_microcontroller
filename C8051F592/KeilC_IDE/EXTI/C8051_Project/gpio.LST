C51 COMPILER V9.60.7.0   GPIO                                                              07/13/2024 13:41:26 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE GPIO
OBJECT MODULE PLACED IN gpio.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE gpio.c OMF2 OPTIMIZE(8,SPEED) BROWSE INTVECTOR(0X4000) DEBUG TABS(2)

line level    source

   1          #include "gpio.h"
   2          
   3          //-----------------------------------------------------------------------------
   4          // PORT_Init
   5          //-----------------------------------------------------------------------------
   6          //
   7          // Return Value:  None
   8          // Parameters:    None
   9          //
  10          // Configure the Crossbar and GPIO ports.
  11          //
  12          // P2.1 - digital  push-pull   LED Green
  13          // P2.0 - digital  push-pull   LED Yellow
  14          
  15          // P1.2 - digital  push-pull   Button 2
  16          // P1.4 - digital  push-pull   Button 7
  17          //
  18          //-----------------------------------------------------------------------------
  19          void PORT_Init (void)
  20          {
  21   1         U8 SFRPAGE_save = SFRPAGE;
  22   1         SFRPAGE = CONFIG_PAGE;
  23   1      
  24   1        // P2.1 led green
  25   1         P2MDOUT |= (1<<1);                    // Enable LED as a push-pull output
  26   1         P2SKIP  |= (1<<1);                    // Skip the LED pin on the crossbar
  27   1      
  28   1          // P2.0 led yellow
  29   1         P2MDOUT |= (1<<0);                    // Enable LED as a push-pull output
  30   1         P2SKIP  |= (1<<0);                    // Skip the LED pin on the crossbar
  31   1          
  32   1        // P1.2  switch 2
  33   1         P1MDIN  |= (1<<2);
  34   1         P1SKIP  |= (1<<2); 
  35   1        
  36   1         XBR2     = 0x40;                    // Enable crossbar and weak pull-ups
  37   1      
  38   1         SFRPAGE = SFRPAGE_save;
  39   1      }
  40          
  41          
  42          U8 State_SW2()
  43          {
  44   1      //  U8 status = (status_sw2 >>2) &1;
  45   1      //  return status;
  46   1        return SW2_Button;
  47   1      }
  48          
  49          
  50          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     35    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.60.7.0   GPIO                                                              07/13/2024 13:41:26 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
